<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Socket.IO Client</title>
    <script src="https://cdn.socket.io/4.0.0/socket.io.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const socket = io('https://webhook-pwa.onrender.com/'); // Use your server URL
            let hayvanData = null;

            socket.on('postCreated', function (data) {
                console.log('New Hayvan data received:', data);
                hayvanData = data;
                updateDOM();
            });

            function updateDOM() {
                if (hayvanData) {
                    document.getElementById('aile').textContent = hayvanData.aile;
                    document.getElementById('sinif').textContent = hayvanData.sinif;
                    document.getElementById('durum').textContent = hayvanData.durum;
                    document.getElementById('resim').src = hayvanData.resim;
                    document.getElementById('minikResim').src = hayvanData.minikResim;
                    document.getElementById('aciklama').innerHTML = hayvanData.aciklama; // Rich text as HTML
                    document.getElementById('ozellikler').innerHTML = hayvanData.ozellikler; // Rich text as HTML
                    document.getElementById('haritaKodu').textContent = hayvanData.haritaKodu;
                    document.getElementById('isim').textContent = hayvanData.isim;
                }
            }
        });
    </script>
</head>
<body>
    <div id="hayvanContainer">
        <h1 id="isim"></h1>
        <p>Aile: <span id="aile"></span></p>
        <p>Sınıf: <span id="sinif"></span></p>
        <p>Durum: <span id="durum"></span></p>
        <img id="resim" alt="Resim" />
        <img id="minikResim" alt="Minik Resim" />
        <div id="aciklama"></div>
        <div id="ozellikler"></div>
        <p>Harita Kodu: <span id="haritaKodu"></span></p>
    </div>
</body>
</html>